<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
     
 <!-- namespace="패키지명.인터페이스" -->
 <mapper namespace="com.spring.tutorial.dao.AdminHumanDAO"> 
   		
    <!-- 관리자 인사관리 -->
    <select id="membersInfo" resultType="com.spring.tutorial.dto.CommonDTO">
    	select * from grb_member
		where show =1 
		order by id
    </select>
    
    <!-- 관리자 개인정보 상세페이지 -->
   <select id="usersDetail" parameterType="String" resultType="com.spring.tutorial.dto.CommonDTO">
   		select * from grb_member where id = #{id}
   </select>
   
   <!-- 관리자 개인정보 수정 -->
   <update id="usersUpdate" parameterType="com.spring.tutorial.dto.CommonDTO">
  		update grb_member 
		 set email_in=#{email_in}, address=#{address}, gender= #{gender}, marry=#{marry} , 
		     frgn=#{frgn} , nation=#{nation}, tel= #{tel}, in_tel=#{in_tel}, email_out=#{email_out} ,
		    depart_name=#{depart_name}, rank= #{rank} 
		where id = #{id}
   </update>
   
   <!-- 관리자 개인정보 삭제 -->
   <update id="usersDelete" parameterType="String">
   		update grb_member set show = 0 where id= #{id}
   </update>
    
    <!-- 관리자 전체부서명 -->
    <select id="departsInfo" resultType="com.spring.tutorial.dto.DepartDTO">
    	select * from grb_depart
    </select>
   		
 </mapper>